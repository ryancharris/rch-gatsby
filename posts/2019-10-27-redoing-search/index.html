<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-post-js.bcef1bd6bb5167d4b2c9.css">.ContentCard{background:#fff;border-radius:12px;box-shadow:0 -1px 15px 3px rgba(0,0,0,.15);padding:30px 20px}.SocialIcons__list{align-items:center;display:flex;justify-content:center;list-style:none;margin:0 0 5px;padding:0}.SocialIcons__list-item{margin:0 10px}.SocialIcons__icon{fill:#000;width:20px}.SocialIcons__link{display:block;fill:#000}.SocialIcons__link--blog:hover .SocialIcons__icon{fill:#14c6cc}.SocialIcons__link--index:hover .SocialIcons__icon{fill:#ff00ac}.SocialIcons__link--portfolio:hover .SocialIcons__icon{fill:#ffdd19}.Footer{align-items:center;color:#fff;display:flex;flex-direction:column;justify-content:center;margin:30px 0 0}.Footer__copyright{color:#fff;font-family:Helvetica,sans-serif;font-size:12px;font-weight:400;margin:0 0 8px}.Footer .SocialIcons__icon,.Footer .SocialIcons__icon:hover{fill:#fff}.HeroBlock{text-align:center}.HeroBlock__title{font-size:36px;letter-spacing:-5%;margin:0}.HeroBlock__subtitle,.HeroBlock__title{color:#000;font-family:Futura,sans-serif;font-weight:700}.HeroBlock__subtitle{font-size:28px;margin:10px}.HeroBlock__avatar{border:3px solid #000;border-radius:50%;display:block;margin:15px auto;max-width:175px}.HeroBlock__avatar--index{border-color:#ff00ac}.HeroBlock__avatar--blog{border-color:#14c6cc}.HeroBlock__avatar--portfolio{border-color:#ffdd19}.Nav{color:#fff;font-family:Helvetica,sans-serif;font-size:18px;font-weight:700;display:flex;justify-content:space-around;width:100%}.Nav__link,.Nav__link:hover,.Nav__link:visited{color:#fff;padding-bottom:10px;text-decoration:none;text-shadow:1px 2px 3px rgba(0,0,0,.25);text-transform:lowercase;transition:border .15s ease-in}.Nav__link--active,.Nav__link:hover{border-bottom:1px solid #fff}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}.Layout{min-height:100vh;padding:25px 25px 35px}.Layout--index{background:#ff00ac}.Layout--blog{background:#14c6cc}.Layout--portfolio{background:#ffdd19}.Layout__nav{margin:0 0 25px}.Layout__content{margin:0 auto;max-width:800px}.Layout__hero{margin:30px 0}.BlogPostHero{align-items:center;border-radius:5px;display:flex;flex-direction:column;height:auto;height:175px;justify-content:center;min-height:150px;text-align:center}.BlogPostHero__caption{color:#000;font-family:Helvetica,sans-serif;font-size:14px;font-style:italic;font-weight:400;display:block;margin:15px 0}.BlogPostHero__date,.BlogPostHero__title{margin:0}.BlogPostHero__title{color:#fff;font-family:Futura,sans-serif;font-size:28px;font-weight:700;margin-bottom:15px}.BlogPostHero__time{margin:0 0 5px}.BlogPostHero__date,.BlogPostHero__time{color:#fff;font-family:Helvetica,sans-serif;font-size:16px;font-weight:700;font-style:italic}.BlogPostFooter{align-items:center;display:flex;margin:0 auto;width:90%}.BlogPostFooter__avatar-wrapper{flex-basis:20%;padding-right:10px}.BlogPostFooter__avatar{border:3px solid #14c6cc;border-radius:50%;width:100px}.BlogPostFooter__about-wrapper{flex-basis:80%;padding:0 10px}.BlogPostFooter__about{color:#000;font-family:Helvetica,sans-serif;font-size:14px;font-weight:400;line-height:1.5;margin:0 0 5px}.BlogPostFooter__about--strong{font-weight:700}.BlogPostFooter__icon{fill:#14c6cc;height:16px;margin-right:5px;vertical-align:middle;width:16px}.BlogPost__hero-image{height:200px;-o-object-fit:cover;object-fit:cover;width:100%}.BlogPost__body{color:#000;font-family:Helvetica,sans-serif;font-size:16px;font-weight:400;line-height:1.5}.BlogPost__body a{color:#14c6cc;text-decoration:none}.BlogPost__body a:hover{background:#14c6cc;color:#fff}.BlogPost__body h3{margin:30px 0 5px}.BlogPost__body p{margin:0 0 15px;padding:0}.BlogPost__body span{color:#000;font-family:Helvetica,sans-serif;font-size:14px;font-style:italic;font-weight:400;display:block;margin:0 0 30px;text-align:center}.BlogPost__body blockquote{color:#000;font-family:Helvetica,sans-serif;font-size:24px;font-style:oblique;font-weight:700;line-height:1.5;margin:30px 5%}.BlogPost__body img{max-width:100%}.BlogPost__body hr{background:#14c6cc;border:none;height:2px;margin:40px auto;max-width:125px}.BlogPost__body pre{background:#000;border-radius:10px;box-shadow:1px 2px 3px #40e7ec;color:#14c6cc;margin:30px 5%;padding:20px;white-space:pre-wrap}.BlogPost__body code{background:#000;color:#14c6cc;padding:0 6px}.BlogPost__body caption{color:#000;font-family:Helvetica,sans-serif;font-size:14px;font-style:italic;font-weight:400}.BlogPost__body .gatsby-resp-image-wrapper{margin:45px 5% 0!important}</style><meta name="generator" content="Gatsby 2.0.64"/><title data-react-helmet="true">Ryan C. Harris</title><meta data-react-helmet="true" name="description" content="Frontend software engineer and developer in Philadelphia, PA"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link as="script" rel="preload" href="/webpack-runtime-aaecc58862cb47cfa3c8.js"/><link as="script" rel="preload" href="/app-17a1e1c18df42250d3bd.js"/><link as="script" rel="preload" href="/0-8fc81f985eb3573583ca.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-f022fe696c764426399c.js"/><link rel="preload" href="/static/d/814/path---posts-2019-10-27-redoing-search-666-f9e-pVpjrNzzdXDLicbh1RNhIPKkj8.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><main class="Layout Layout--blog"><div class="Layout__content"><header class="Layout__nav"><nav class="Nav"><a class="Nav__link" href="/">Home</a><a class="Nav__link" href="/blog/">Blog</a><a class="Nav__link" href="/portfolio/">Portfolio</a><a class="Nav__link" href="https://drive.google.com/file/d/11u3IAEahODGDeJNyaEcc41eOA1n2okCk/view?usp=sharing" target="_blank" rel="noopener noreferrer">C.V.</a></nav></header><section class="Layout__body"><div class="ContentCard"><section class="Layout__hero"><div class="HeroBlock"><h1 class="HeroBlock__title">Ryan C. Harris</h1><img class="HeroBlock__avatar HeroBlock__avatar--blog" src="/static/avatar-c6dce45cc9a1f8926ea784ab9805447a.png" alt="Ryan C. Harris"/><h3 class="HeroBlock__subtitle">software engineer</h3><ul class="SocialIcons__list"><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="https://github.com/ryancharris" title="GitHub"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="github" role="img" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="http://www.twitter.com/ryan_c_harris" title="Twitter"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="twitter" role="img" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="http://www.linkedin.com/in/ryancharris" title="LinkedIn"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="linkedin" role="img" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="https://medium.com/@ryancharris" title="Medium"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="medium-m" role="img" viewBox="0 0 512 512"><path d="M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z"></path></svg></a></li></ul></div></section><article class="BlogPost"><div class="BlogPostHero" style="background:linear-gradient(rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.25)), url(/static/joshua-aragon-unsplash-7f3413c8ee1a1824f338f2323432237b.jpg);background-size:cover;background-position:center center;background-repeat:no-repeat"><h1 class="BlogPostHero__title">Redoing search UI with React Context and refs</h1><h4 class="BlogPostHero__time">6<!-- --> min. read</h4><h4 class="BlogPostHero__date">Oct. 27, 2019</h4></div><caption class="BlogPostHero__caption">Image source<!-- --> <a class="page__blog-link" href="https://unsplash.com/@goshua13">Joshua Aragon</a></caption><hr class="page__line page__line--blog"/><div class="BlogPost__body"><p>Recently, the product team at my company discovered the majority of our users were not utilizing filters when using our search interface.</p>
<p>After looking at our analytics, it became apparent users weren’t engaging with filters because they didn’t know they existed.</p>
<p>To fix this problem, we decided to rebuild our UI in order to highlight this functionality.</p>
<p>But building a new search interface came with its own set of problems. In our case, we had three main concerns:</p>
<ul>
<li>
<p>By adding filter dropdown menus with nested inputs, we would need a way to easily manage focus.</p>
</li>
<li>
<p>With three filter menus, we needed a way to ensure only one menu was open at any given time.</p>
</li>
<li>
<p>When the user selected a filter from one of the menus, we needed to both close the menu and trigger a new search.</p>
</li>
</ul>
<p>We achieved all of our objectives by using <a href="https://blog.logrocket.com/how-and-when-to-use-reacts-new-context-api-b584e41b2704/">React’s Context API</a> in conjunction with refs to create a centralized system for managing menu states and input focus.</p>
<p>In this article, we’ll cover the following:</p>
<p><strong>Context:</strong> basic usage and strategies for injecting data anywhere in your component tree</p>
<p><strong>Refs:</strong> what they are and why our use case calls for them</p>
<h3>Context</h3>
<p>The official Context API was added to React in v16.3 and is intended to avoid what is commonly known as prop drilling, or manually passing props down a component tree.</p>
<p>While there is nothing wrong with this approach, it can be unwieldy when dealing with complex component hierarchies, especially if some components don’t care about the data and are simply passing it on.</p>
<p><img src="https://drive.google.com/uc?export=view&#x26;id=1eJ_V1v65mDzlrjWftb6cHmGOPuHNBV6c" alt="Without Context"></p>
<p>In order to use the Context API, you need to create a <code>Context.Provider</code> that takes a <code>value</code> prop representing all the data you want to inject into the child components that need it.</p>
<p>Before the advent of <a href="https://blog.logrocket.com/frustrations-with-react-hooks/">Hooks</a>, you would do this by using an associated <code>Context.Consumer</code>, but in the post-Hooks world, we can leverage the <code>useContext</code> Hook to subscribe a component to the closest Provider above it in the component tree.</p>
<p><img src="https://drive.google.com/uc?export=view&#x26;id=12ib9i5CnTFI63l5iaVfQEff4na5Zr-oL" alt="With Context"></p>
<p>In this case, Context provides a way to keep track of which menu should be open in our parent component, and then passes that value down to its children who, in turn, conditionally render the appropriate dropdown.</p>
<p>The key here is that our Context also passes down a setter function. This is important because it allows the components consuming our context value to then update the state in our parent component, which causes the tree to re-render with the new menu now visible.</p>
<p><img src="https://drive.google.com/uc?export=view&#x26;id=1czOGG0jufp6UMXftWV3PXgRMvLpLH1fE" alt="Menu value with getter and setter"></p>
<p>By using the pattern described above, we can similarly manage the focus state of the various inputs in the search bar and filter menus.</p>
<h3>Refs</h3>
<p>While they have been part of React for a while, refs can still be somewhat confusing even for more experienced developers.</p>
<p>Essentially, React provides a special ref attribute that can be applied to any element (JSX or HTML).</p>
<p>Depending on what type of element you assign it to, the ref provides access to that class instance or DOM element, respectively.</p>
<pre><code class="language-javascript">// Applying a ref directly to an HTML element
&#x3C;input
  className="AuthorFilterMenu__filter-input"
  ref={authorFilterInputRef}
  placeholder="Filter by author..."
  value={filterInputValue}
  type="search"
  onInput={event => {
    setFilterInputValue(event.currentTarget.value);
  }}
/>

// Applying a ref to a React component instance
&#x3C;AuthorFilterMenu ref={authorFilterInputRef} />
</code></pre>
<p>Though our use case requires us to go down this road, it is important to note that refs are a React antipattern because they allow direct DOM access. React does not really intend for developers to do this, so when using refs you should proceed with caution.</p>
<p>Alternatively, React is designed to have events update the virtual DOM (a snapshot of the document object model kept in memory,) and allow the framework to update the page as needed in a process known as reconciliation.</p>
<p>This not only makes React more performant by reducing the work done to update the page, but it also makes for a more consistent user experience.</p>
<p>For us, we need to directly access the three <code>input</code>s in our component tree in order to use the browser’s <code>.focus()</code> method. Since we need to change focus states for our inputs based on user interaction, it makes sense to keep this logic in our parent component, too.</p>
<p>We’ll create three different refs in our parent component that will point to the following:</p>
<ol>
<li>The input in our search bar</li>
<li>The input in our first filter menu (ex. Author)</li>
<li>The input in our second filter menu (ex. Year)</li>
</ol>
<p>Using our Context, we can then pass these refs down to our child components. In the child component, we destructure the appropriate <code>ref</code> off the component’s <code>props</code> object and assign it directly to our HTML <code>input</code>:</p>
<pre><code class="language-javascript">// Provide value in App.jsx
&#x3C;section className="App__search">
  &#x3C;SearchContext.Provider
    value={{
      openMenu: openMenu,
      toggleOpenMenu: toggleOpenMenu,
      addAuthor: addAuthor,
      addYear: addYear,
      selectedAuthors: selectedAuthors,
      selectedYears: selectedYears,
      authorFilterInputRef: authorFilterInputRef,
      searchBarRef: searchBarRef,
      yearFilterInputRef: yearFilterInputRef
    }}
  >
    &#x3C;SearchBar />
  &#x3C;/SearchContext.Provider>
&#x3C;/section>

// In AuthorFilterMenu.jsx, we grab the ref from the searchContext
function AuthorFilterMenu(props) {
  const contextValue = React.useContext(SearchContext);
  const {
    addAuthor,
    openMenu,
    selectedAuthors,
    authorFilterInputRef
  } = contextValue;
}

// And then we apply it to the &#x3C;input>
return (
  &#x3C;div className={menuCn}>
    &#x3C;input
      className="AuthorFilterMenu__filter-input"
      ref={authorFilterInputRef}
      placeholder="Filter by author..."
      value={filterInputValue}
      type="search"
      onInput={event => {
        setFilterInputValue(event.currentTarget.value);
      }}
    />
    &#x3C;ul className="AuthorFilterMenu__list">{createMenuItems()}&#x3C;/ul>
  &#x3C;/div>
);
</code></pre>
<p>Now, whenever one of the child components calls our menu state setter function to toggle a menu, we can add logic to also update which input is in focus.</p>
<p>For example, if one of our filter menus is open and then closes, we would want to refocus the search input bar to allow the user to continue their query.</p>
<p>One thing to note here is that function components don’t play well with refs.</p>
<p>In order to pass a <code>ref</code> into a function component, you will need to use <code>React.forwardRef</code>, which creates a new component that receives a <code>ref</code> attribute and then passes it on to another component below.</p>
<p>For a more detailed look at how to use <code>forwardRef</code>, check out the <a href="https://reactjs.org/docs/react-api.html#reactforwardref">official React docs</a>.</p>
<h3>Conclusion</h3>
<p>While Context is a relatively new API and refs are somewhat of an antipattern, they compliment each other well in this case. By combining the two together, we are able to create a more straightforward way of managing both display and focus states within our new search interface.</p>
<p>While we didn’t use any stores in this example, you could easily wire one up and include it in this data flow.</p>
<p>For example, in the project I built at work, my parent component was subscribed to a store that provided a list of the items to be rendered in our dropdown menus.</p>
<p>Once the parent received this data, it added it to our Context’s <code>value</code> prop and passed it down to the child components.</p>
<p>Ultimately, the ability to centrally locate logic in this way allows for a more consistent user experience.</p>
<p>By using Context, we easily decoupled our business logic and data fetching from the presentation and functionality of our UI components.</p>
<p>We also made our code easier for other developers to read in the future, which is never a bad thing!</p>
<p>For the full tutorial, check out this <a href="https://codesandbox.io/s/laughing-lichterman-lxl1y">demo</a>.</p>
<p>** <em>Originally <a href="https://blog.logrocket.com/redoing-search-ui-with-react-context-and-refs/">published</a> on <a href="https://logrocket.com/">LogRocket</a></em></p></div><hr class="page__line page__line--blog"/><div class="BlogPostFooter"><div class="BlogPostFooter__avatar-wrapper"><img class="BlogPostFooter__avatar" src="/static/avatar-c6dce45cc9a1f8926ea784ab9805447a.png" alt="Ryan C. Harris"/></div><div class="BlogPostFooter__about-wrapper"><p class="BlogPostFooter__about BlogPostFooter__about--strong">Software Engineer @ Guru</p><p class="BlogPostFooter__about">developer @ Guru. co-organizer Reactadelphia. film student turned engineer. always learning.</p><p class="BlogPostFooter__about"><svg class="BlogPostFooter__icon" aria-hidden="true" data-prefix="fab" data-icon="twitter" role="img" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><a class="page__blog-link" href="http://www.twitter.com/ryan_c_harris" target="_blank" rel="noopener noreferrer" title="@ryan_c_harris">@ryan_c_harris</a></p></div></div></article></div></section><footer class="Footer"><ul class="SocialIcons__list"><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="https://github.com/ryancharris" title="GitHub"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="github" role="img" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="http://www.twitter.com/ryan_c_harris" title="Twitter"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="twitter" role="img" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="http://www.linkedin.com/in/ryancharris" title="LinkedIn"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="linkedin" role="img" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="SocialIcons__list-item"><a class="SocialIcons__link SocialIcons__link--blog" href="https://medium.com/@ryancharris" title="Medium"><svg class="SocialIcons__icon" aria-hidden="true" data-prefix="fab" data-icon="medium-m" role="img" viewBox="0 0 512 512"><path d="M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z"></path></svg></a></li></ul><h6 class="Footer__copyright">Ryan C. Harris © 2018</h6><h6 class="Footer__copyright">Philadelphia, PA</h6></footer></div></main></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135453133-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"posts-2019-10-27-redoing-search-666","path":"/posts/2019-10-27-redoing-search/"};window.dataPath="814/path---posts-2019-10-27-redoing-search-666-f9e-pVpjrNzzdXDLicbh1RNhIPKkj8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-17a1e1c18df42250d3bd.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d00bfc76032331e9fb07.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.bcef1bd6bb5167d4b2c9.css","/component---src-templates-blog-post-js-f022fe696c764426399c.js"],"component---src-pages-404-js":["/component---src-pages-404-js.97e6f526bc7ff08fcbf1.css","/component---src-pages-404-js-642ee6f6e9baebaf21f2.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js.ad321327ee1fa5d73a3c.css","/component---src-pages-blog-js-0f413cbb4b23f0aa4f25.js"],"component---src-pages-index-js":["/component---src-pages-index-js.90f837f9b810d1d543a4.css","/component---src-pages-index-js-1352732701032c0cff90.js"],"component---src-pages-portfolio-js":["/component---src-pages-portfolio-js.6de7fadf6f20df0f2dc7.css","/component---src-pages-portfolio-js-f1d6bf383a53b1db5fa0.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-f022fe696c764426399c.js" async=""></script><script src="/0-8fc81f985eb3573583ca.js" async=""></script><script src="/app-17a1e1c18df42250d3bd.js" async=""></script><script src="/webpack-runtime-aaecc58862cb47cfa3c8.js" async=""></script></body></html>